(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[642,890],{52688:function(B,x,e){"use strict";var E=e(99653),C=e(97445),y=e(85893),F=e(67294),W=e(26227),O=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],T=F.forwardRef(function(o,f){var s=o.fieldProps,d=o.unCheckedChildren,n=o.checkedChildren,i=o.proFieldProps,P=(0,C.Z)(o,O);return(0,y.jsx)(W.Z,(0,E.Z)({valueType:"switch",fieldProps:(0,E.Z)({unCheckedChildren:d,checkedChildren:n},s),ref:f,valuePropName:"checked",proFieldProps:i,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},P))});x.Z=T},5966:function(B,x,e){"use strict";var E=e(99653),C=e(97445),y=e(85893),F=e(26227),W=["fieldProps","proFieldProps"],O=["fieldProps","proFieldProps"],T="text",o=function(n){var i=n.fieldProps,P=n.proFieldProps,g=(0,C.Z)(n,W);return(0,y.jsx)(F.Z,(0,E.Z)({valueType:T,fieldProps:i,filedConfig:{valueType:T},proFieldProps:P},g))},f=function(n){var i=n.fieldProps,P=n.proFieldProps,g=(0,C.Z)(n,O);return(0,y.jsx)(F.Z,(0,E.Z)({valueType:"password",fieldProps:i,proFieldProps:P,filedConfig:{valueType:T}},g))},s=o;s.Password=f,s.displayName="ProFormComponent",x.Z=s},90337:function(B,x,e){"use strict";e.r(x),e.d(x,{default:function(){return k}});var E=e(58024),C=e(91894),y=e(47673),F=e(4107),W=e(48736),O=e(27049),T=e(34792),o=e(48086),f=e(11849),s=e(39428),d=e(3182),n=e(2824),i=e(67294),P=e(46298),g=e(25377),K=e(99653),Y=e(97445),a=e(85893),G=e(26227),H=["fieldProps","min","proFieldProps","max"],z=function(r,l){var m=r.fieldProps,u=r.min,j=r.proFieldProps,U=r.max,I=(0,Y.Z)(r,H);return(0,a.jsx)(G.Z,(0,K.Z)({valueType:"digit",fieldProps:(0,K.Z)({min:u,max:U},m),ref:l,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:j},I))},V=i.forwardRef(z),L=e(5894),M=e(5966),$=e(52688);function J(h){return A.apply(this,arguments)}function A(){return A=(0,d.Z)((0,s.Z)().mark(function h(r){return(0,s.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.WY)("/api/setting-management/emailing",(0,f.Z)({method:"GET"},r||{})));case 1:case"end":return m.stop()}},h)})),A.apply(this,arguments)}function Q(h,r){return R.apply(this,arguments)}function R(){return R=(0,d.Z)((0,s.Z)().mark(function h(r,l){return(0,s.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,g.WY)("/api/setting-management/emailing",(0,f.Z)({method:"POST",data:r,getResponse:!0},l||{})));case 1:case"end":return u.stop()}},h)})),R.apply(this,arguments)}var X=function(){var r=(0,g.YB)(),l=(0,i.useRef)(),m=(0,i.useState)("email"),u=(0,n.Z)(m,2),j=u[0],U=u[1],I=(0,i.useState)(),N=(0,n.Z)(I,2),q=N[0],_=N[1],w=function(){var D=(0,d.Z)((0,s.Z)().mark(function p(v){var c,t,b;return(0,s.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(U(v),l==null||(c=l.current)===null||c===void 0||c.resetFields(),v!="email"){S.next=7;break}return S.next=5,J();case 5:t=S.sent,t&&(_(t),l==null||(b=l.current)===null||b===void 0||b.setFieldsValue(t));case 7:case"end":return S.stop()}},p)}));return function(v){return D.apply(this,arguments)}}(),ee=function(){var D=(0,d.Z)((0,s.Z)().mark(function p(v){var c,t;return(0,s.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(j!="email"){Z.next=5;break}return Z.next=3,Q((0,f.Z)((0,f.Z)({},q),v));case 3:t=Z.sent,t!=null&&(c=t.response)!==null&&c!==void 0&&c.ok&&o.ZP.success(r.formatMessage({id:"common.dict.save.success"}));case 5:case"end":return Z.stop()}},p)}));return function(v){return D.apply(this,arguments)}}(),re=function(p){o.ZP.info("TODO")};return(0,i.useEffect)(function(){w(j)},[0]),(0,a.jsx)(P.ZP,{children:(0,a.jsx)(C.Z,{tabList:[{tab:"Email (SMTP)",key:"email"}],activeTabKey:j,onTabChange:w,children:(0,a.jsx)(L.A,{formRef:l,layout:"horizontal",labelCol:{span:3},labelWrap:!0,wrapperCol:{span:9},onFinish:function(){var D=(0,d.Z)((0,s.Z)().mark(function p(v){return(0,s.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(v);case 2:case"end":return t.stop()}},p)}));return function(p){return D.apply(this,arguments)}}(),children:j=="email"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.Z,{label:r.formatMessage({id:"page.settings.email.smtpHost"}),name:"smtpHost",rules:[{required:!0},{max:128}]}),(0,a.jsx)(V,{label:r.formatMessage({id:"page.settings.email.smtpPort"}),name:"smtpPort",width:"sm",rules:[{required:!0}]}),(0,a.jsx)(M.Z,{label:r.formatMessage({id:"page.settings.email.smtpUserName"}),name:"smtpUserName",rules:[{max:128}]}),(0,a.jsx)(M.Z.Password,{label:r.formatMessage({id:"page.settings.email.smtpPassword"}),name:"smtpPassword",rules:[{max:128}]}),(0,a.jsx)(M.Z,{label:r.formatMessage({id:"page.settings.email.smtpDomain"}),name:"smtpDomain"}),(0,a.jsx)($.Z,{label:r.formatMessage({id:"page.settings.email.smtpEnableSsl"}),name:"smtpEnableSsl"}),(0,a.jsx)($.Z,{label:r.formatMessage({id:"page.settings.email.smtpUseDefaultCredentials"}),name:"smtpUseDefaultCredentials"}),(0,a.jsx)(M.Z,{label:r.formatMessage({id:"page.settings.email.defaultFromAddress"}),name:"defaultFromAddress",rules:[{required:!0},{max:128}]}),(0,a.jsx)(M.Z,{label:r.formatMessage({id:"page.settings.email.defaultFromDisplayName"}),name:"defaultFromDisplayName",rules:[{required:!0},{max:128}]}),(0,a.jsx)(O.Z,{}),(0,a.jsx)(L.A.Item,{label:r.formatMessage({id:"page.settings.email.testToAddress"}),children:(0,a.jsx)(F.Z.Search,{placeholder:"",allowClear:!0,enterButton:r.formatMessage({id:"page.settings.email.testSend"}),onSearch:re})})]})})})})},k=X}}]);
