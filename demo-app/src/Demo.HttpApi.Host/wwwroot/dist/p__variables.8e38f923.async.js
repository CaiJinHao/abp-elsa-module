(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[70],{90672:function($,T,a){"use strict";var p=a(99653),R=a(97445),C=a(85893),x=a(67294),j=a(26227),Z=["fieldProps","proFieldProps"],s=function(h,d){var c=h.fieldProps,m=h.proFieldProps,b=(0,R.Z)(h,Z);return(0,C.jsx)(j.Z,(0,p.Z)({ref:d,valueType:"textarea",fieldProps:c,proFieldProps:m},b))};T.Z=x.forwardRef(s)},5966:function($,T,a){"use strict";var p=a(99653),R=a(97445),C=a(85893),x=a(26227),j=["fieldProps","proFieldProps"],Z=["fieldProps","proFieldProps"],s="text",O=function(m){var b=m.fieldProps,F=m.proFieldProps,E=(0,R.Z)(m,j);return(0,C.jsx)(x.Z,(0,p.Z)({valueType:s,fieldProps:b,filedConfig:{valueType:s},proFieldProps:F},E))},h=function(m){var b=m.fieldProps,F=m.proFieldProps,E=(0,R.Z)(m,Z);return(0,C.jsx)(x.Z,(0,p.Z)({valueType:"password",fieldProps:b,proFieldProps:F,filedConfig:{valueType:s}},E))},d=O;d.Password=h,d.displayName="ProFormComponent",T.Z=d},33366:function($,T,a){"use strict";a.r(T),a.d(T,{default:function(){return se}});var p=a(11849),R=a(57663),C=a(71577),x=a(62350),j=a(24565),Z=a(2824),s=a(39428),O=a(34792),h=a(48086),d=a(3182),c=a(25377);function m(n,t){return b.apply(this,arguments)}function b(){return b=(0,d.Z)((0,s.Z)().mark(function n(t,r){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.WY)("/api/elsa/workflow/global-variables",(0,p.Z)({method:"POST",data:t},r||{})));case 1:case"end":return e.stop()}},n)})),b.apply(this,arguments)}function F(n,t){return E.apply(this,arguments)}function E(){return E=(0,d.Z)((0,s.Z)().mark(function n(t,r){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.WY)("/api/elsa/workflow/global-variables/".concat(t),(0,p.Z)({method:"DELETE",getResponse:!0},r||{})));case 1:case"end":return e.stop()}},n)})),E.apply(this,arguments)}function pe(n,t){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/elsa/workflow/global-variables/".concat(t),_objectSpread({method:"GET"},r||{})));case 1:case"end":return e.stop()}},n)})),G.apply(this,arguments)}function ce(n,t){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/elsa/workflow/global-variables/by-key/".concat(t),_objectSpread({method:"GET"},r||{})));case 1:case"end":return e.stop()}},n)})),I.apply(this,arguments)}function N(n,t){return W.apply(this,arguments)}function W(){return W=(0,d.Z)((0,s.Z)().mark(function n(t,r){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.WY)("/api/elsa/workflow/global-variables",(0,p.Z)({method:"GET",params:t},r||{})));case 1:case"end":return e.stop()}},n)})),W.apply(this,arguments)}function H(n,t,r){return V.apply(this,arguments)}function V(){return V=(0,d.Z)((0,s.Z)().mark(function n(t,r,i){return(0,s.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,c.WY)("/api/elsa/workflow/global-variables/".concat(t),(0,p.Z)({method:"PUT",data:r},i||{})));case 1:case"end":return u.stop()}},n)})),V.apply(this,arguments)}var J=a(90672),Q=a(46298),X=a(68129),_=a(37476),q=a(5966),S=a(67294),g=a(85893),ee=function(){var n=(0,d.Z)((0,s.Z)().mark(function t(r){var i;return(0,s.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,m(r);case 2:if(i=u.sent,!i){u.next=6;break}return h.ZP.success((0,c.wv)({id:"common.dict.created.success"})),u.abrupt("return",!0);case 6:return u.abrupt("return",!1);case 7:case"end":return u.stop()}},t)}));return function(r){return n.apply(this,arguments)}}(),re=function(){var n=(0,d.Z)((0,s.Z)().mark(function t(r,i){var e;return(0,s.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,H(r,i);case 2:if(e=l.sent,!e){l.next=6;break}return h.ZP.success((0,c.wv)({id:"common.dict.modified.success"})),l.abrupt("return",!0);case 6:return l.abrupt("return",!1);case 7:case"end":return l.stop()}},t)}));return function(r,i){return n.apply(this,arguments)}}(),ae=function(){var n=(0,d.Z)((0,s.Z)().mark(function t(r){var i,e;return(0,s.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,F(r);case 2:if(e=l.sent,!(e!=null&&(i=e.response)!==null&&i!==void 0&&i.ok)){l.next=6;break}return h.ZP.success((0,c.wv)({id:"common.dict.deleted.success"})),l.abrupt("return",!0);case 6:return l.abrupt("return",!1);case 7:case"end":return l.stop()}},t)}));return function(r){return n.apply(this,arguments)}}(),te=function(){var t=(0,S.useRef)(),r=(0,c.YB)(),i=(0,S.useState)(!1),e=(0,Z.Z)(i,2),u=e[0],l=e[1],ne=(0,S.useState)(""),B=(0,Z.Z)(ne,2),le=B[0],K=B[1],ie=(0,S.useState)(),L=(0,Z.Z)(ie,2),ue=L[0],U=L[1],oe=(0,S.useState)(),Y=(0,Z.Z)(oe,2),A=Y[0],z=Y[1],de=[{dataIndex:"filter",title:r.formatMessage({id:"page.variable.field.key"}),hideInTable:!0},{dataIndex:"key",title:r.formatMessage({id:"page.variable.field.key"}),search:!1,copyable:!0,width:200},{dataIndex:"value",title:r.formatMessage({id:"page.variable.field.value"}),search:!1,ellipsis:!0,width:600},{title:r.formatMessage({id:"common.dict.table-action"}),valueType:"option",align:"center",width:100,render:function(M,f,y,v){return[(0,g.jsx)("a",{onClick:function(){U(f),z(f.id),l(!0),K("".concat(r.formatMessage({id:"common.dict.edit"})," - ").concat(f.key))},children:r.formatMessage({id:"common.dict.edit"})},"edit"),(0,g.jsx)(j.Z,{title:r.formatMessage({id:"common.dict.delete.confirm"}),onConfirm:(0,d.Z)((0,s.Z)().mark(function P(){return(0,s.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ae(f.id);case 2:if(!o.sent){o.next=4;break}v==null||v.reload();case 4:case"end":return o.stop()}},P)})),children:(0,g.jsx)("a",{children:r.formatMessage({id:"common.dict.delete"})})},"delete")]}}];return(0,g.jsxs)(Q.ZP,{children:[(0,g.jsx)(X.Z,{columns:de,actionRef:t,rowKey:"id",toolBarRender:function(){return[(0,g.jsx)(C.Z,{type:"primary",onClick:function(){U(void 0),z(""),l(!0),K(r.formatMessage({id:"common.dict.create"}))},children:r.formatMessage({id:"common.dict.create"})},"add")]},request:function(){var k=(0,d.Z)((0,s.Z)().mark(function M(f){var y,v,P,D;return(0,s.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return y=f.current,v=f.pageSize,delete f.current,delete f.pageSize,P=(y-1)*v,w.next=6,N((0,p.Z)((0,p.Z)({},f),{},{skipCount:P,maxResultCount:v}));case 6:if(D=w.sent,!D){w.next=11;break}return w.abrupt("return",{success:!0,data:D.items,total:D.totalCount});case 11:return w.abrupt("return",{success:!1});case 12:case"end":return w.stop()}},M)}));return function(M){return k.apply(this,arguments)}}()}),(0,g.jsxs)(_.Y,{title:le,width:"600px",visible:u,modalProps:{destroyOnClose:!0,maskClosable:!1},preserve:!1,onVisibleChange:l,initialValues:ue,onFinish:function(){var k=(0,d.Z)((0,s.Z)().mark(function M(f){var y,v,P;return(0,s.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(y=!1,v=(0,p.Z)({},f),!A){o.next=8;break}return o.next=5,re(A,v);case 5:y=o.sent,o.next=11;break;case 8:return o.next=10,ee(v);case 10:y=o.sent;case 11:y&&(l(!1),(P=t.current)===null||P===void 0||P.reload());case 12:case"end":return o.stop()}},M)}));return function(M){return k.apply(this,arguments)}}(),layout:"horizontal",labelWrap:!0,labelCol:{span:3},children:[(0,g.jsx)(q.Z,{rules:[{required:!0},{max:64},{pattern:/^\w+$/}],name:"key",label:r.formatMessage({id:"page.variable.field.key"}),disabled:!!A}),(0,g.jsx)(J.Z,{rules:[{required:!1}],name:"value",label:r.formatMessage({id:"page.variable.field.value"}),fieldProps:{autoSize:{minRows:2,maxRows:20}}})]})]})},se=te}}]);
