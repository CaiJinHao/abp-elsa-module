(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[399],{5966:function(I,L,e){"use strict";var O=e(28991),y=e(81253),U=e(85893),M=e(91939),g=["fieldProps","proFieldProps"],S=["fieldProps","proFieldProps"],h="text",b=function(c){var N=c.fieldProps,T=c.proFieldProps,i=(0,y.Z)(c,g);return(0,U.jsx)(M.Z,(0,O.Z)({valueType:h,fieldProps:N,filedConfig:{valueType:h},proFieldProps:T},i))},$=function(c){var N=c.fieldProps,T=c.proFieldProps,i=(0,y.Z)(c,S);return(0,U.jsx)(M.Z,(0,O.Z)({valueType:"password",fieldProps:N,proFieldProps:T,filedConfig:{valueType:h}},i))},F=b;F.Password=$,F.displayName="ProFormComponent",L.Z=F},3114:function(I){I.exports={container:"container___KVYXD",lang:"lang___1p5v8",content:"content___3BJPo",icon:"icon___2fKgg"}},32384:function(){},57341:function(I,L,e){"use strict";e.r(L),e.d(L,{default:function(){return _}});var O=e(18106),y=e(60561),U=e(34792),M=e(48086),g=e(39428),S=e(11849),h=e(3182),b=e(2824),$=e(17462),F=e(71390),A=e(89366),c=e(2603),N=e(84305),T=e(39559),i=e(28991),V=e(81253),s=e(85893),G=e(78775),K=e(67294),J=e(5894),se=e(32384),X=["logo","message","contentStyle","title","subTitle","actions","children"];function Q(o){var P,u=o.logo,B=o.message,W=o.contentStyle,Z=o.title,x=o.subTitle,E=o.actions,m=o.children,t=(0,V.Z)(o,X),R=(0,G.YB)(),j=t.submitter===!1?!1:(0,i.Z)((0,i.Z)({searchConfig:{submitText:R.getMessage("loginForm.submitText","\u767B\u5F55")}},t.submitter),{},{submitButtonProps:(0,i.Z)({size:"large",style:{width:"100%"}},(P=t.submitter)===null||P===void 0?void 0:P.submitButtonProps),render:function(p,z){var r,ee=z.pop();if(typeof(t==null||(r=t.submitter)===null||r===void 0?void 0:r.render)=="function"){var D,Y;return t==null||(D=t.submitter)===null||D===void 0||(Y=D.render)===null||Y===void 0?void 0:Y.call(D,p,z)}return ee}}),d=(0,K.useContext)(T.ZP.ConfigContext),v=d.getPrefixCls("pro-form-login"),a=function(p){return"".concat(v,"-").concat(p)},n=(0,K.useMemo)(function(){return u?typeof u=="string"?(0,s.jsx)("img",{src:u}):u:null},[u]);return(0,s.jsxs)("div",{className:a("container"),children:[(0,s.jsxs)("div",{className:a("top"),children:[Z||n?(0,s.jsxs)("div",{className:a("header"),children:[n?(0,s.jsx)("span",{className:a("logo"),children:n}):null,Z?(0,s.jsx)("span",{className:a("title"),children:Z}):null]}):null,x?(0,s.jsx)("div",{className:a("desc"),children:x}):null]}),(0,s.jsxs)("div",{className:a("main"),style:(0,i.Z)({width:328},W),children:[(0,s.jsxs)(J.A,(0,i.Z)((0,i.Z)({isKeyPressSubmit:!0},t),{},{submitter:j,children:[B,m]})),E?(0,s.jsx)("div",{className:a("other"),children:E}):null]})]})}var H=e(5966),f=e(25377),w=e(86814),k=e(3114),C=e.n(k),re=function(P){var u=P.content;return _jsx(_Alert,{style:{marginBottom:24},message:u,type:"error",showIcon:!0})},q=function(){var P=(0,K.useState)("account"),u=(0,b.Z)(P,2),B=u[0],W=u[1],Z=(0,f.tT)("@@initialState"),x=Z.initialState,E=Z.setInitialState,m=(0,f.YB)(),t=function(){var j=(0,h.Z)((0,g.Z)().mark(function d(){var v,a;return(0,g.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,x==null||(v=x.fetchUserInfo)===null||v===void 0?void 0:v.call(x);case 2:if(a=l.sent,!a){l.next=6;break}return l.next=6,E(function(p){return(0,S.Z)((0,S.Z)({},p),{},{currentUser:a})});case 6:case"end":return l.stop()}},d)}));return function(){return j.apply(this,arguments)}}(),R=function(){var j=(0,h.Z)((0,g.Z)().mark(function d(v){var a,n,l,p;return(0,g.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,w.n$)(v);case 3:if(a=r.sent,a.result!==1){r.next=13;break}return r.next=7,t();case 7:if(f.m8){r.next=9;break}return r.abrupt("return");case 9:return f.m8.push("/"),r.abrupt("return");case 13:l=m.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),M.ZP.error((n=a.description)!==null&&n!==void 0?n:l);case 15:r.next=21;break;case 17:r.prev=17,r.t0=r.catch(0),p=m.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),M.ZP.error(p);case 21:case"end":return r.stop()}},d,null,[[0,17]])}));return function(v){return j.apply(this,arguments)}}();return(0,s.jsxs)("div",{className:C().container,children:[(0,s.jsx)("div",{className:C().lang,"data-lang":!0,children:f.pD&&(0,s.jsx)(f.pD,{})}),(0,s.jsx)("div",{className:C().content,children:(0,s.jsxs)(Q,{logo:(0,s.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Workflow",subTitle:m.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},onFinish:function(){var j=(0,h.Z)((0,g.Z)().mark(function d(v){return(0,g.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R(v);case 2:case"end":return n.stop()}},d)}));return function(d){return j.apply(this,arguments)}}(),children:[(0,s.jsx)(y.Z,{activeKey:B,onChange:W,children:(0,s.jsx)(y.Z.TabPane,{tab:m.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account")}),B==="account"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.Z,{name:"userNameOrEmailAddress",fieldProps:{size:"large",prefix:(0,s.jsx)(A.Z,{className:C().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.username.placeholder",defaultMessage:""}),rules:[{required:!0,message:(0,s.jsx)(f._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,s.jsx)(H.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(c.Z,{className:C().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.password.placeholder",defaultMessage:""}),rules:[{required:!0,message:(0,s.jsx)(f._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})]})}),(0,s.jsx)(F.Z,{})]})},_=q}}]);
